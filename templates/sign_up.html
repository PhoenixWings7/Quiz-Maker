{% extends 'base.html' %}

{% block title %}New user{% endblock %}

{% block content %}
    <div class="user_info">
        <h1>Add new user</h1>

        <form action="{{ user_to_edit[0] if user_to_edit else '/sign_up' }}" method="POST">
            <input type="hidden" value="{{ user_to_edit[0] if user_to_edit else ''}}" name="story_id">
          <div class="form-group">
            <label for="user_login">User login:</label>
            <input required pattern=".{3,}" id="user_login" required title="3 characters minimum" type="text" class="form-control" value="{{ story_to_edit[1] if story_to_edit else 'your login'}}" name="user_login">
          </div>
          <div class="form-group">
            <label for="user_name">User name:</label>
            <input required pattern=".{3,}" id="user_name" required title="3 characters minimum" type="text" class="form-control" value="{{ story_to_edit[2] if story_to_edit else 'your name'}}" name="user_name">
          </div>
          <div class="form-group">
            <label for="user_age">Age:</label>
            <input type="number" min="18" max="100" step="1" class="form-control" id="user_age" placeholder="18+" value="{{ story_to_edit[4] if story_to_edit else ''}}" name="user_age">
          </div>
          <div class="form-group">
            <label for="user_gender">Gender:</label>
            <select name="user_gender">
                <option value="male" selected id="user_gender_selected" name="user_gender">male</option>
                <option value="female" id="user_gender" name="user_gender">female</option>
            </select>
          </div>
          <div class="form-group">
            <label>User photo</label>
            <div class="user_photo">
                <label class="user_photo" for="user_photo"></label>
                <input type="file" class="user_photo" name="user_photo" id="user_photo">
            </div>
          </div>
          <div class="form-group">
            <label for="user_about">About you:</label>
            <textarea required class="form-control" id="user_about" name="user_about" rows="3">{{ story_to_edit[3] if story_to_edit else ''}}</textarea>
          </div>
          <input type="submit" class="btn btn-primary" name="action" value="{{ 'Update User information' if story_to_edit else 'Register new User' }}"></input>
            {% if story_to_edit %}
                <input type="submit" class="btn btn-danger"  name="action" value="Delete">
            {% endif %}
        </form>
    </div>
    {% endblock %}